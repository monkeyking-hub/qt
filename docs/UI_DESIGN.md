# 航班管理系统 UI 设计文档

## 设计总体规划

### 设计理念
- **现代化**: 采用扁平化设计，卡片式布局
- **用户友好**: 清晰的信息层级，直观的交互
- **响应式**: 适配不同分辨率的屏幕
- **无障碍**: 遵循 WCAG 2.1 标准
- **一致性**: 统一的配色、字体、间距

### 色彩方案

#### 主题色 - 深色主题
- **主色**: `#2b2b2b` (深灰黑)
- **次色**: `#3c3c3c` (中灰黑)
- **强调色**: `#007AFF` (蓝色)
- **文字**: `#ffffff` (白色)
- **边框**: `#555555` (深灰)
- **背景**: `#2b2b2b`
- **警告色**: `#FF3B30` (红色)
- **成功色**: `#34C759` (绿色)
- **信息色**: `#5AC8FA` (浅蓝)
- **警示色**: `#FF9500` (橙色)

#### 主题色 - 浅色主题
- **主色**: `#ffffff` (白色)
- **次色**: `#f0f0f0` (浅灰)
- **强调色**: `#007AFF` (蓝色)
- **文字**: `#000000` (黑色)
- **边框**: `#cccccc` (浅灰)
- **背景**: `#ffffff`
- **警告色**: `#FF3B30` (红色)
- **成功色**: `#34C759` (绿色)
- **信息色**: `#5AC8FA` (浅蓝)
- **警示色**: `#FF9500` (橙色)

### 字体规范

| 用途 | 字体 | 大小 | 权重 | 行高 |
|------|------|------|------|------|
| 页面标题 | Microsoft YaHei / 微软雅黑 | 28px | Bold | 1.4 |
| 主标题 | Microsoft YaHei / 微软雅黑 | 20px | Bold | 1.4 |
| 副标题 | Microsoft YaHei / 微软雅黑 | 16px | SemiBold | 1.5 |
| 正文 | Microsoft YaHei / 微软雅黑 | 14px | Normal | 1.6 |
| 小文本 | Microsoft YaHei / 微软雅黑 | 12px | Normal | 1.5 |
| 标签 | Microsoft YaHei / 微软雅黑 | 11px | Normal | 1.4 |

### 间距规范

- **极小**: 4px
- **小**: 8px
- **中小**: 12px
- **中**: 16px
- **中大**: 20px
- **大**: 24px
- **特大**: 32px

---

## 页面设计

### 1. 主窗口 (MainWindow)

#### 布局结构
```
┌─────────────────────────────────────────────┐
│  菜单栏 (File | View | Tools | Help)        │
├─────────────────────────────────────────────┤
│  工具栏 [搜索] [预订] [用户] [详情]          │
├─────────────────────────────────────────────┤
│                                             │
│          中央内容区域 (StackedWidget)       │
│                                             │
│                                             │
├─────────────────────────────────────────────┤
│ 状态: 就绪  | 用户: 访客  | 时间: 时间显示  │
└─────────────────────────────────────────────┘
```

#### 设计特点
- **菜单栏**: 高度 40px，包含文件、视图、工具、帮助菜单
- **工具栏**: 高度 60px，具有图标+文字的按钮
- **中央区**: 动态显示各个功能模块
- **状态栏**: 高度 30px，显示当前状态、用户和时间

#### 窗口规格
- **推荐宽度**: 1400px
- **推荐高度**: 900px
- **最小宽度**: 1200px
- **最小高度**: 800px

---

### 2. 航班搜索页面 (FlightSearchWidget)

#### 页面布局

```
┌─────────────────────────────────────────────┐
│ 🔍 航班搜索                                 │
├─────────────────────────────────────────────┤
│  ┌─ 搜索条件 ──────────────────────────────┐ │
│  │ 出发地: [PEK▼]  目的地: [SHA▼]         │ │
│  │ 出发日期: [2024-02-15]  返回日期: [可选] │ │
│  │ 乘客数: [1▼]  座位等级: [经济▼]        │ │
│  │ [搜索] [清除]                           │ │
│  └────────────────────────────────────────┘ │
│                                             │
│  ┌─ 搜索结果 (1000 个航班) ────────────────┐ │
│  │ [筛选▼] [排序▼] [收藏△]               │ │
│  ├─────────────────────────────────────────┤ │
│  │ ┌─────────────────────────────────────┐ │ │
│  │ │ CA123  中国国际航空 ⭐ 4.5 (230评价) │ │ │
│  │ │ 北京→上海  10:00→12:30 (2h 30m)    │ │ │
│  │ │ 经济舱: ¥680  商务舱: ¥1680         │ │ │
│  │ │ [预订]                              │ │ │
│  │ └─────────────────────────────────────┘ │ │
│  │                                         │ │
│  │ ... 更多航班 ...                        │ │
│  │                                         │ │
│  └─────────────────────────────────────────┘ │
└─────────────────────────────────────────────┘
```

#### 设计要素

**搜索表单**
- 背景: `#3c3c3c` (深色) / `#f0f0f0` (浅色)
- 圆角: 8px
- 内边距: 16px
- 输入框:
  - 高度: 36px
  - 圆角: 4px
  - 边框: 1px `#555555` (深) / `#cccccc` (浅)
  - 文字大小: 14px

**搜索结果卡片**
- 宽度: 100%
- 高度: 120px
- 背景: `#3c3c3c` (深) / `#ffffff` (浅)
- 边框: 1px `#555555` (深) / `#cccccc` (浅)
- 圆角: 8px
- 内边距: 16px
- 外边距: 8px
- 悬停效果:
  - 背景色变亮
  - 阴影效果
  - 光标变为指针

**排序和筛选**
- 按价格排序: 从低到高 / 从高到低
- 按时间排序: 最早出发 / 最晚出发
- 按评分排序: 最高评分 / 最低评分
- 按航空公司筛选
- 按时间段筛选
- 按座位等级筛选
- 按停靠次数筛选

---

### 3. 航班预订页面 (FlightBookingWidget)

#### 页面布局

```
┌─────────────────────────────────────────────┐
│ 🎫 航班预订                                 │
├─────────────────────────────────────────────┤
│  步骤指示: [1.航班 ✓] [2.乘客▶] [3.支付]   │
│                                             │
│  ┌─ 1. 选择航班 ────────────────────────────┐ │
│  │ 航班: [CA123 中国国际航空 ▼]            │ │
│  │ 10:00-12:30 (2h 30m)  经济舱 ¥680      │ │
│  │ [选择 ▶]                                │ │
│  └────────────────────────────────────────┘ │
│                                             │
│  ┌─ 2. 乘客信息 ────────────────────────────┐ │
│  │ 成人(1) [+] [-]                         │ │
│  │ 姓名: [____________]  [____________]    │ │
│  │ 性别: [男▼]  出生日期: [1990-01-01]    │ │
│  │ 身份证: [________________]              │ │
│  │ 邮箱: [____________________]            │ │
│  │ 电话: [____________________]            │ │
│  └────────────────────────────────────────┘ │
│                                             │
│  ┌─ 3. 选择座位 ────────────────────────────┐ │
│  │  座位地图 (6列 x 50排)                  │ │
│  │  [X] 经济舱座位图 [X] [X] [走廊] [X] [X] │ │
│  │                                         │ │
│  └────────────────────────────────────────┘ │
│                                             │
│  ┌─ 4. 增值服务 ────────────────────────────┐ │
│  │ ☐ 餐饮服务 (+¥50/人)                   │ │
│  │ ☐ 座位升级 (+¥100)                     │ │
│  │ ☐ 行李额外 (+¥80)                      │ │
│  │ ☐ 旅游保险 (+¥30)                      │ │
│  └────────────────────────────────────────┘ │
│                                             │
│  ┌─ 5. 价格摘要 ────────────────────────────┐ │
│  │ 基价:     ¥680.00                       │ │
│  │ 税费:      ¥50.00                       │ │
│  │ 服务:     ¥100.00                       │ │
│  │ ──────────────────                      │ │
│  │ 总价:     ¥830.00                       │ │
│  └────────────────────────────────────────┘ │
│                                             │ │
│                    [上一步] [下一步] [预订] │
└─────────────────────────────────────────────┘
```

#### 设计要素

**步骤指示器**
- 圆形指示: 直径 30px
- 已完成: 绿色 `#34C759`
- 进行中: 蓝色 `#007AFF`
- 未开始: 灰色 `#999999`
- 连接线: 2px 高度

**乘客信息表单**
- 分组显示不同类型乘客
- 可以添加/移除乘客
- 必填字段标记红色 `*`

**座位地图**
- 每个座位: 40x40px
- 可选座位: 背景 `#4a4a4a` (深) / `#e0e0e0` (浅)
- 已占座位: 背景 `#666666`，禁用光标
- 选中座位: 背景 `#007AFF`，蓝色高亮
- 走廊: 留出 16px 间隔
- 悬停效果: 座位变亮

**价格摘要卡片**
- 背景: 半透明深色
- 圆角: 8px
- 粘性位置: 固定在屏幕右下角

---

### 4. 用户管理页面 (UserManagementWidget)

#### 页面布局

```
┌─────────────────────────────────────────────┐
│ 👤 用户管理                                 │
├─────────────────────────────────────────────┤
│  搜索: [____________] [按用户名▼] [搜索]   │
│  [新增用户] [编辑] [删除] [刷新]            │
├─────────────────────────────────────────────┤
│  ┌─ 用户列表 ────────────────────────────────┐ │
│  │ ID | 用户名 | 邮箱 | 角色 | 状态 | 操作    │ │
│  ├─────────────────────────────────────────┤ │
│  │ U001 | john_doe | john@... | 用户 | 活跃 │ │
│  │ U002 | jane_... | jane@... | 管理 | 活跃 │ │
│  │ U003 | bob_... | bob@... | 用户 | 禁用 │ │
│  └─────────────────────────────────────────┘ │
│                                             │
│  ┌─ 用户详情编辑表单 ────────────────────────┐ │
│  │ 用户ID: [U001] (不可编辑)               │ │
│  │ 用户名: [john_doe]                      │ │
│  │ 邮箱: [john@example.com]                │ │
│  │ 手机: [13800000000]                     │ │
│  │ 姓名: [John] [Doe]                      │ │
│  │ 性别: [男▼]  生日: [1990-01-01]        │ │
│  │ 角色: [用户▼]                           │ │
│  │ 状态: [活跃▼]                           │ │
│  │ 地址: [____________________]            │ │
│  │                                         │ │
│  │ [保存] [取消] [重置]                    │ │
│  └────────────────────────────────────────┘ │
│                                             │
│  用户总数: 3                                │
└─────────────────────────────────────────────┘
```

#### 设计要素

**用户表格**
- 表头: 字体加粗，背景深色
- 行高: 40px
- 交替行: 背景色不同 (更好的可读性)
- 悬停行: 高亮显示
- 操作列: 包含编辑/删除按钮

**用户表单**
- 二列布局 (在宽屏上)
- 必填字段: 标红 `*`
- 验证反馈: 实时显示
  - 成功: 绿色勾 ✓
  - 错误: 红色叉 ✗

---

### 5. 航班详情页面 (FlightDetailsWidget)

#### 页面布局

```
┌─────────────────────────────────────────────┐
│ ✈️ 航班详情                                 │
├─────────────────────────────────────────────┤
│  [返回]                                     │
│                                             │
│  ┌─ 航班信息卡片 ────────────────────────────┐ │
│  │ CA123 中国国际航空 ⭐ 4.5 (230评价)      │ │
│  │ ═══════════════════════════════════════  │ │
│  │                                         │ │
│  │ 北京首都国际机场 → 上海浦东国际机场     │ │
│  │ PEK                   SHA               │ │
│  │ 10:00                 12:30             │ │
│  │ 2024年2月15日         2024年2月15日     │ │
│  │                                         │ │
│  │ ─── 飞行时间: 2小时30分 停靠次数: 0 ── │ │
│  │                                         │ │
│  │ 机型: Boeing 737-800  注册号: B-5238   │ │
│  │ 航站楼: T1  登机口: A12                 │ │
│  │                                         │ │
│  └────────────────────────────────────────┘ │
│                                             │
│  ┌─ 座位情况 ────────────────────────────────┐ │
│  │ 经济舱: 45个座位可用  商务舱: 12个可用   │ │
│  │ 头等舱: 3个座位可用                      │ │
│  └────────────────────────────────────────┘ │
│                                             │
│  ┌─ 价格信息 ────────────────────────────────┐ │
│  │ 经济舱: ¥680  商务舱: ¥1680  头等舱: ¥2680 │ │
│  │ 税费已包含                               │ │
│  └────────────────────────────────────────┘ │
│                                             │
│  ┌─ 便利设施 ────────────────────────────────┐ │
│  │ 📡 WiFi 服务     🍽️ 机餐饮食             │ │
│  │ 📺 娱乐系统      🔌 电源插座             │ │
│  │ 🛏️ 平躺座椅 (商务舱) 🎧 耳机             │ │
│  └────────────────────────────────────────┘ │
│                                             │
│  ┌─ 行李政策 ────────────────────────────────┐ │
│  │ 经济舱: 23kg + 7kg  商务舱: 32kg + 8kg    │ │
│  │ 头等舱: 50kg + 8kg                       │ │
│  └────────────────────────────────────────┘ │
│                                             │
│  ┌─ 乘客评价 ────────────────────────────────┐ │
│  │ 平均评分: ⭐ 4.5/5.0 (230条评价)         │ │
│  │                                         │ │
│  │ ┌─ 评价 1 ─────────────────────────────┐ │ │
│  │ │ john_doe ⭐⭐⭐⭐⭐ (5/5)              │ │ │
│  │ │ 太棒了！服务很好，准时到达。         │ │ │
│  │ │ 2024-01-15 有用 23                    │ │ │
│  │ └────────────────────────────────────┘ │ │
│  │                                         │ │
│  │ ... 更多评价 ...                        │ │
│  │                                         │ │
│  └────────────────────────────────────────┘ │
│                                             │ │
│                        [预订该航班] [收藏] │
└─────────────────────────────────────────────┘
```

#### 设计要素

**信息卡片**
- 使用分隔线组织信息
- 图标+文字组合
- 清晰的信息层级

**评价展示**
- 评分星级显示: ⭐✨
- 用户头像: 36x36px 圆形
- 时间戳: 相对时间 (1小时前)
- 有用计数: 可点击，支持投票

---

## 自定义组件

### 1. ModernButton (现代化按钮)

```
┌─────────────────────┐
│    Click Me          │  <- 默认状态
└─────────────────────┘

┌─────────────────────┐
│    Click Me          │  <- 悬停状态 (背景变亮)
└─────────────────────┘

┌─────────────────────┐
│    Click Me          │  <- 按下状态 (背景变暗)
└─────────────────────┘
```

**规格**
- 高度: 36px / 40px / 44px (根据重要性)
- 内边距: 12px 24px
- 圆角: 4px
- 字体: 14px / 16px
- 过渡动画: 200ms

**颜色**
- 主按钮: `#007AFF` (蓝色)
- 次按钮: `#4a4a4a` (深灰)
- 危险按钮: `#FF3B30` (红色)

### 2. FlightInfoCard (航班信息卡片)

```
┌──────────────────────────────────────────┐
│ CA123 中国国际航空  ⭐ 4.5               │
├──────────────────────────────────────────┤
│ PEK           10:00                      │
│ ─────────────────→                       │
│ SHA           12:30                      │
│ 2小时30分      停靠次数: 0                │
├──────────────────────────────────────────┤
│ 经济舱: ¥680  |  [预订]                 │
└──────────────────────────────────────────┘
```

### 3. LoadingWidget (加载动画)

```
    ╱
   ╱  ╲
  ┃   ╲  加载中...
   ╲   ╱
    ╲
```

旋转动画，文字下方

### 4. StatusCard (状态卡片)

```
┌─────────────────────┐
│ 📊 航班总数         │
│ 450                 │
└─────────────────────┘
```

### 5. AnimatedProgressBar (动画进度条)

```
┌─────────────────────────────────────────┐
│ ████████░░░░░░░░░░░  60%                │
└─────────────────────────────────────────┘
```

---

## 交互规范

### 按钮交互
- **点击**: 200ms 反馈动画
- **禁用**: 降低透明度，光标变为禁用符号
- **加载**: 显示加载动画，禁用点击

### 输入框交互
- **获得焦点**: 边框变蓝，显示光标
- **输入**: 实时验证，显示验证图标
- **错误**: 边框变红，显示错误信息

### 表格交互
- **行悬停**: 背景高亮
- **行点击**: 选中行变蓝
- **列排序**: 点击表头排序，显示排序指向

### 下拉框交互
- **打开**: 从上向下下拉，显示选项列表
- **选择**: 选项变蓝，关闭下拉框
- **搜索**: 支持输入字母快速搜索

### 对话框交互
- **打开**: 淡入动画 (200ms)
- **关闭**: 淡出动画 (200ms)
- **按键**: ESC 关闭，Enter 确认

---

## 响应式设计

| 屏幕大小 | 宽度 | 调整 |
|---------|------|------|
| 超小 | < 640px | 单列布局，移动适配 |
| 小 | 640px - 1024px | 两列布局 |
| 中等 | 1024px - 1440px | 标准三列布局 |
| 大 | > 1440px | 宽屏四列布局 |

---

## 无障碍设计

### 键盘导航
- Tab 键: 在可交互元素间导航
- Enter: 激活按钮或提交表单
- ESC: 关闭对话框
- 方向键: 在列表中导航

### 颜色对比
- 文字对比度: 至少 4.5:1 (AA 标准)
- 不仅依赖颜色传达信息

### 屏幕阅读器
- 所有按钮有描述性标签
- 表格有适当的标题和摘要
- 表单字段有关联的标签

---

## 动画规范

### 过渡时间
- 快速: 150ms (悬停, 焦点)
- 标准: 300ms (打开/关闭)
- 慢速: 500ms (页面切换)

### 缓动函数
- 打开: `cubic-bezier(0.4, 0, 0.2, 1)` (标准缓出)
- 关闭: `cubic-bezier(0.4, 0, 0.6, 1)` (标准缓入)
- 弹性: `cubic-bezier(0.68, -0.55, 0.265, 1.55)` (弹性)

---

## 最佳实践

### 布局建议
1. 使用网格系统 (8px 基线)
2. 充分利用空白
3. 明确的视觉层级
4. 逻辑分组相关元素

### 排版建议
1. 限制字体数量 (最多 2 种)
2. 充分的行高和字母间距
3. 合理的字体大小对比
4. 左对齐文本易于阅读

### 图标建议
1. 统一的图标风格
2. 足够大的点击区域 (最少 44x44px)
3. 清晰易识别
4. 提供文字标签支持

### 内容建议
1. 清晰的标题和描述
2. 简洁的措辞
3. 避免术语和行话
4. 及时的错误提示和成功反馈

